# Crypto Analytics API

API –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç —Å —Ä–µ–∞–ª—å–Ω—ã–º–∏ –¥–∞–Ω–Ω—ã–º–∏, —Ç–µ—Ö–Ω–∏—á–µ—Å–∫–∏–º –∞–Ω–∞–ª–∏–∑–æ–º –∏ WebSocket –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è–º–∏.

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
```bash
pip install -r requirements.txt
```

### 2. –ó–∞–ø—É—Å–∫ API
```bash
uvicorn main:app --reload
```

### 3. –ó–∞–ø—É—Å–∫ —Å –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–æ–º (Grafana + Prometheus)
```bash
docker-compose up -d
```

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –î–æ—Å—Ç—É–ø –∫ —Å–µ—Ä–≤–∏—Å–∞–º:
- **API**: http://localhost:8000
- **Grafana**: http://localhost:3000 (admin/admin)
- **Prometheus**: http://localhost:9090
- **Swagger**: http://localhost:8000/docs

### –ú–µ—Ç—Ä–∏–∫–∏ Prometheus:
- **HTTP –∑–∞–ø—Ä–æ—Å—ã**: `/metrics`
- **–í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞**: `/metrics`
- **WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è**: `/metrics`
- **–¶–µ–Ω—ã –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç**: `/metrics`

## üîß API Endpoints

### –û—Å–Ω–æ–≤–Ω—ã–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:
- `GET /` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± API
- `GET /health` - –ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–æ—Ä–æ–≤—å—è
- `GET /metrics` - –ú–µ—Ç—Ä–∏–∫–∏ Prometheus
- `GET /crypto/prices` - –¶–µ–Ω—ã –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
- `GET /crypto/{coin_id}` - –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –º–æ–Ω–µ—Ç–µ
- `GET /crypto/search/{query}` - –ü–æ–∏—Å–∫ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
- `GET /crypto/market-data` - –†—ã–Ω–æ—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- `GET /crypto/trending` - –¢—Ä–µ–Ω–¥–æ–≤—ã–µ –º–æ–Ω–µ—Ç—ã
- `GET /crypto/{coin_id}/technical-analysis` - –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑
- `GET /crypto/{coin_id}/price-history` - –ò—Å—Ç–æ—Ä–∏—è —Ü–µ–Ω
- `WS /ws` - WebSocket –¥–ª—è real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏–π

## üìà –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

### –ü–æ–ª—É—á–µ–Ω–∏–µ —Ü–µ–Ω –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç:
```bash
curl http://localhost:8000/crypto/prices?limit=10
```

### –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ Bitcoin:
```bash
curl http://localhost:8000/crypto/bitcoin/technical-analysis?days=30
```

### WebSocket –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ:
```javascript
const ws = new WebSocket('ws://localhost:8000/ws');
ws.onmessage = (event) => {
    console.log('–ü–æ–ª—É—á–µ–Ω—ã –¥–∞–Ω–Ω—ã–µ:', JSON.parse(event.data));
};
```

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞

### –ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:
- **FastAPI** - –≤–µ–±-—Ñ—Ä–µ–π–º–≤–æ—Ä–∫
- **CoinGecko API** - –∏—Å—Ç–æ—á–Ω–∏–∫ –¥–∞–Ω–Ω—ã—Ö
- **WebSocket** - real-time –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è
- **Prometheus** - —Å–±–æ—Ä –º–µ—Ç—Ä–∏–∫
- **Grafana** - –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è

### –ú–µ—Ç—Ä–∏–∫–∏:
- HTTP –∑–∞–ø—Ä–æ—Å—ã –∏ –≤—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
- –í—ã–∑–æ–≤—ã –≤–Ω–µ—à–Ω–∏—Ö API
- WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è
- –¶–µ–Ω—ã –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
- –û—à–∏–±–∫–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è

## üîç –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑

–ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä—ã:
- **SMA/EMA** - —Å–∫–æ–ª—å–∑—è—â–∏–µ —Å—Ä–µ–¥–Ω–∏–µ
- **RSI** - –∏–Ω–¥–µ–∫—Å –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ–π —Å–∏–ª—ã
- **MACD** - —Å—Ö–æ–∂–¥–µ–Ω–∏–µ/—Ä–∞—Å—Ö–æ–∂–¥–µ–Ω–∏–µ
- **Bollinger Bands** - –ø–æ–ª–æ—Å—ã –ë–æ–ª–ª–∏–Ω–¥–∂–µ—Ä–∞
- **Support/Resistance** - —É—Ä–æ–≤–Ω–∏ –ø–æ–¥–¥–µ—Ä–∂–∫–∏/—Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è
- **Volume Analysis** - –∞–Ω–∞–ª–∏–∑ –æ–±—ä–µ–º–æ–≤

## üìù –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

–í—Å–µ –∑–∞–ø—Ä–æ—Å—ã –∏ –æ—à–∏–±–∫–∏ –ª–æ–≥–∏—Ä—É—é—Ç—Å—è –∏ –¥–æ—Å—Ç—É–ø–Ω—ã –≤ –º–µ—Ç—Ä–∏–∫–∞—Ö Prometheus.

## üöÄ –î–µ–ø–ª–æ–π

### Docker:
```bash
docker-compose up -d
```

### –õ–æ–∫–∞–ª—å–Ω–æ:
```bash
uvicorn main:app --host 0.0.0.0 --port 8000
```

## üìä –î–∞—à–±–æ—Ä–¥—ã Grafana

–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–æ–∑–¥–∞–µ—Ç—Å—è –¥–∞—à–±–æ—Ä–¥ —Å:
- HTTP –∑–∞–ø—Ä–æ—Å–∞–º–∏ –ø–æ —ç–Ω–¥–ø–æ–∏–Ω—Ç–∞–º
- –í—Ä–µ–º–µ–Ω–µ–º –æ—Ç–≤–µ—Ç–∞ API
- WebSocket —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è–º–∏
- –¶–µ–Ω–∞–º–∏ –∫—Ä–∏–ø—Ç–æ–≤–∞–ª—é—Ç
- –û—à–∏–±–∫–∞–º–∏ –∏ –∏—Å–∫–ª—é—á–µ–Ω–∏—è–º–∏
- –í—ã–∑–æ–≤–∞–º–∏ CoinGecko API 